<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Sw</title>
  <base href="/sw/">
  <!-- <base href="/sw/"> -->

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link rel="manifest" href="manifest.json">
</head>
<body>
  <app-root> </app-root>
</body>


<script src="https://www.gstatic.com/firebasejs/4.2.0/firebase.js"></script>
<script>
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyDNzAyWj4hqvwDjjKsNxeQO25nyJpczFxM",
    authDomain: "myproject-b53cc.firebaseapp.com",
    databaseURL: "https://myproject-b53cc.firebaseio.com",
    projectId: "myproject-b53cc",
    storageBucket: "",
    messagingSenderId: "85893849466"
  };
  firebase.initializeApp(config);
</script>


<script>

  //const messaging = firebase.messaging();

  navigator.serviceWorker.register('/sw/firebase-messaging-sw.js')
    .then(reg => {
      console.log('SW registered!', reg)

      // messaging = firebase.messaging();
      // messaging.useServiceWorker(reg);
      
      // Notification.requestPermission().then((result) => {
      //   if (result == 'granted'){
      //     navigator.serviceWorker.ready.then((registration) => {
      //      registration.showNotification('Notification with servicework');
      //     })
      //   }
      // })

      // navigator.serviceWorker.messaging.onMessage(function(payload) {
      //   console.log("Message received. ", payload);
      //   // ...
      // });

    })
    .catch(err => console.log('Boo!', err));
</script>
<!--  -->
</html>
